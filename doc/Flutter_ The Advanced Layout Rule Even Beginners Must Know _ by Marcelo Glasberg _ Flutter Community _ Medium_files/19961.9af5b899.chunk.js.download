(self.webpackChunklite=self.webpackChunklite||[]).push([[19961],{63045:(e,t,n)=>{"use strict";n.d(t,{KL:()=>V,Lk:()=>z,eB:()=>X,qy:()=>Y,FB:()=>K});var r=n(28655),i=n.n(r),o=n(59713),l=n.n(o),a=n(63038),s=n.n(a),d=n(46829),c=n(71439),u=n(67294),m=n(78757),p=n(30826),f=n(14337),v=n(12549),g=n(75210),h=n(77136),b=n(6443),x=n(62685),E=n(28695),y=n(54341),S=n(77355),w=n(93310),k=n(26244),I=n(73917),O=n(87691),N=n(14199),P=n(18627),F=n(66411),_=n(14646),D=n(18122),L=n(97217),T=n(21372),B=n(50458),R=n(68216);function C(){var e=i()(["\n  query PublisherSidebarFollowsQuery($userId: ID!, $limit: Int) {\n    userFollows(userId: $userId, limit: $limit) {\n      ... on User {\n        hasDomain\n        ...UserMentionTooltip_user\n        ...PublisherSidebarFollows_followedEntity\n      }\n      ... on Collection {\n        ...CollectionTooltip_collection\n        ...PublisherSidebarFollows_followedEntity\n      }\n    }\n  }\n  ","\n  ","\n  ","\n"]);return C=function(){return e},e}function j(){var e=i()(["\n  fragment PublisherSidebarFollows_followedEntity on Publisher {\n    __typename\n    id\n    name\n    ...PublisherAvatar_publisher\n  }\n  ","\n"]);return j=function(){return e},e}function A(){var e=i()(["\n  fragment PublisherSidebarFollows_user on User {\n    id\n    name\n    username\n    ...PublisherFollowingCount_publisher\n    ...userUrl_user\n  }\n  ","\n  ","\n"]);return A=function(){return e},e}function U(){var e=i()(["\n  fragment PublisherSidebarFollows_customStyleSheet on CustomStyleSheet {\n    id\n    blogroll {\n      visibility\n    }\n  }\n"]);return U=function(){return e},e}function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var $,H=function(e){var t=e.entity,n=e.tag,r=void 0===n?"h4":n,i=(0,_.I)()([(0,N.n)({name:"detail",scale:"S",clamp:1,leadingTrim:!1,color:"LIGHTER"}),{wordBreak:"break-all"}]),o=(0,m.P)(t);return u.createElement(S.x,{marginBottom:"8px",paddingRight:"10px",tag:"span"},u.createElement(w.r,{href:o},u.createElement(k.$,{placement:"right",targetDistance:5,mouseEnterDelay:300,mouseLeaveDelay:400,noPortal:!1,disablePortalOverlay:!0,role:"tooltip",popoverRenderFn:function(){return"User"===t.__typename?u.createElement(E.K,{user:t}):u.createElement(g.L,{collection:t,buttonSize:"COMPACT",buttonStyleFn:function(e){return e?"OBVIOUS":"STRONG"}})}},u.createElement(r,{className:i},t.name))))},V=function(e){var t;return{isBlogrollInSidebar:(null==e||null===(t=e.blogroll)||void 0===t?void 0:t.visibility)===L.n$.BLOGROLL_VISIBILITY_SIDEBAR}},z=u.createContext({homepageUserId:null,postId:null,catalogId:null});!function(e){e[e.Initial=0]="Initial",e[e.Secondary=1]="Secondary",e[e.Dismissed=2]="Dismissed",e[e.Navigating=3]="Navigating",e[e.Updated=4]="Updated"}($||($={}));var X=function(e){var t,n,r=e.publisher,i=e.isVisible,o=e.customStyleSheet,l=e.withBottomBorder,a=void 0!==l&&l,c=e.withTopBorder,m=void 0===c||c,f=e.publisherTag,g=(0,_.I)(),h=(0,b.H)().value,E=(0,B.MzF)(null!==(t=r.username)&&void 0!==t?t:""),y=u.useState($.Initial),k=s()(y,2),N=k[0],R=k[1],C="User"===r.__typename&&r.id===(null==h?void 0:h.id),j=(null==o||null===(n=o.blogroll)||void 0===n?void 0:n.visibility)===L.n$.BLOGROLL_VISIBILITY_HIDDEN,A=function(e){var t,n=null==e||null===(t=e.blogroll)||void 0===t?void 0:t.visibility,r=!n||n===L.n$.BLOGROLL_VISIBILITY_UNSET,i=n===L.n$.BLOGROLL_VISIBILITY_SIDEBAR;return{shouldShowBlogroll:!(!r&&!i||void 0===e)}}(o).shouldShowBlogroll,U=L.T3.BLOGROLL_ENABLE,W=A&&C&&!N&&!(null!=h&&h.dismissableFlags.includes(U)),V=(0,P.Av)(),X=u.useContext(z),Y=(0,D.g)({onPresentedFn:function(){return V.event("sidebar.blogrollViewed",G(G({},X),{},{viewerIsAuthor:C}))}}),K=(0,d.useLazyQuery)(M,{ssr:!1,variables:{userId:r.id,limit:5}}),Q=s()(K,2),q=Q[0],J=Q[1],Z=J.called,ee=J.loading,te=J.error,ne=J.data,re=(ne=void 0===ne?{userFollows:void 0}:ne).userFollows,ie=(0,v.gp)(r).followingCount,oe=u.useCallback((function(e){return function(){return u.createElement(S.x,{minWidth:"240px",padding:"16px"},u.createElement(O.F,{scale:"S",color:"WHITE"},"Blogrolls help your readers discover writers you follow. Writers who have published most recently show up at the top."),u.createElement(S.x,{marginTop:"8px"},u.createElement(O.F,{scale:"S",color:"WHITE"},W&&u.createElement(w.r,{onClick:function(){var t,n;t=$.Dismissed,n=x.$.DISMISSED,R(t),e(n)}},u.createElement("span",{className:g(I.u)},"Got it")))))}}),[N]);return!A||j?null:Z?ee||te||!re||!re.length||ie<5?null:u.createElement(F.cW,{source:{name:"blogrolls_sidebar",postId:X.postId||void 0,catalogId:X.catalogId||void 0}},u.createElement(S.x,{ref:Y,position:"relative",borderTop:m?"BASE_LIGHTER":"NONE",borderBottom:a?"NONE":void 0},u.createElement(S.x,{marginTop:"32px",marginBottom:"32px"},u.createElement(x.o,{flag:U,isVisible:i&&W,targetDistance:15,renderFn:oe},u.createElement("span",{className:g({textTransform:"uppercase",marginBottom:"8px"})},u.createElement(O.F,{scale:"S",tag:"span"},"".concat(r.name," Follows"))),u.createElement("ul",{className:g({marginTop:"8px"})},re.map((function(e){return u.createElement("li",{className:g({display:"grid",gridTemplateColumns:"auto 1fr auto"}),key:null==e?void 0:e.id},u.createElement(S.x,{paddingRight:"12px"},u.createElement(p.G,{link:!0,publisher:e,scale:"XXXS"})),u.createElement("section",{className:g({wordBreak:"break-word"})},u.createElement(H,{entity:e,tag:f})))}))),u.createElement(O.F,{scale:"S"},u.createElement(w.r,{linkStyle:"SUBTLE",href:E},"See all (".concat((0,T.rR)(ie),")"))))))):(q(),null)},Y=(0,c.Ps)(U()),K=(0,c.Ps)(A(),v.b5,R.$m),Q=(0,c.Ps)(j(),f.v),M=(0,c.Ps)(C(),y.O,h.g,Q)},68773:(e,t,n)=>{"use strict";n.d(t,{$:()=>u,G:()=>m});var r=n(28655),i=n.n(r),o=n(71439),l=n(67294),a=n(94124),s=n(77355),d=n(46696);function c(){var e=i()(["\n  fragment SidebarProfilePic_user on User {\n    id\n    imageId\n  }\n"]);return c=function(){return e},e}var u=function(e){var t=e.user;return t.imageId?l.createElement(s.x,{marginBottom:"20px",maxHeight:"131px",maxWidth:"131px",overflow:"hidden"},l.createElement(a.E,{src:(0,d.W6)({miroId:t.imageId,width:131,height:131,strategy:d._S.Crop}),width:131})):null},m=(0,o.Ps)(c())},52602:(e,t,n)=>{"use strict";n.d(t,{_U:()=>P,Dk:()=>F});var r=n(28655),i=n.n(r),o=n(59713),l=n.n(o),a=n(63038),s=n.n(a),d=n(46829),c=n(71439),u=n(67294),m=n(57189),p=n(9273),f=n(6443),v=n(77355),g=n(9935),h=n(8126),b=n(18627),x=n(66411),E=n(14646),y=n(80872),S=n(87498);function w(){var e=i()(["\n  query ReadNextQuery($postId: ID!) {\n    post(id: $postId) {\n      id\n      readNext {\n        ... on ReadNextItem {\n          reason\n          post {\n            ... on Post {\n              ...ReadNextPostCard_post\n            }\n          }\n        }\n      }\n    }\n  }\n  ","\n"]);return w=function(){return e},e}function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var O={display:"none"},N={":last-of-type":{xs:O,sm:O,md:O,lg:O,xl:{display:"block"}}},P=function(e){var t=e.isVisible,n=void 0===t||t,r=e.postId,i=u.useState(!1),o=s()(i,2),l=o[0],a=o[1],c=(0,f.H)().value,p=(0,d.useLazyQuery)(_),S=s()(p,2),w=S[0],k=S[1],O=k.called,P=k.loading,D=k.error,L=k.data,T=(L=void 0===L?{post:void 0}:L).post,B=c&&F(c)&&!((0,y.yd)()||l),R=(0,b.Av)(),C=(0,E.I)(),j=(0,x.Lk)(),A=T&&T.readNext;return u.useEffect((function(){P||!D||A&&A.length||R.event("readNextError",{post:T,postId:r,error:D,readNextLength:A&&A.length||0})}),[P]),u.useEffect((function(){n&&A&&(R.event("readNext.viewed",{position:"sidebar"}),A.slice(0,4).map((function(e,t){var n=e.post,r=e.reason;return R.event("post.clientPresented",{source:(0,x.f0)(I(I({},j),{},{index:t,postFeedReason:r||void 0})),location:"post/".concat(n&&n.id)}),!0})))}),[n,A]),!O&&B&&w({variables:{postId:r||""}}),O&&!P&&!D&&T&&A&&A.length&&B?u.createElement(x.cW,{source:{name:"read_next",sectionType:x.bA.READ_NEXT_SIDEBAR},extendSource:!0},u.createElement(v.x,{width:"188px"},u.createElement(v.x,{md:{display:"none"},lg:{width:"780px",margin:"0 24px"},position:"relative",backgroundColor:"BACKGROUND",paddingBottom:"24px",paddingTop:"24px",width:"100%"},u.createElement(v.x,{position:"absolute",right:"0",top:"-4px"},u.createElement(g.P,{onClick:function(){(0,y.Ph)(),a(!0)},size:"SMALL",isPositionAbsolute:!1})),u.createElement(v.x,{width:"200px"},u.createElement(h.F1,{scale:"XS"},"Your journey starts here.")),u.createElement(v.x,{display:"flex",flexDirection:"column",justifyContent:"space-between"},T.readNext.slice(0,4).map((function(e,t){var n=e.post;return n?u.createElement("div",{className:C(N),key:t},u.createElement(m.N,{key:t,post:n})):null})))))):null};function F(e){return e&&e.createdAt+S.pU>Date.now()}var _=(0,c.Ps)(w(),p.Q)},9273:(e,t,n)=>{"use strict";n.d(t,{Q:()=>l});var r=n(319),i=n.n(r),o=n(4088),l={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ReadNextPostCard_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"Field",name:{kind:"Name",value:"mediumUrl"}},{kind:"Field",name:{kind:"Name",value:"previewContent"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"subtitle"}}]}},{kind:"Field",name:{kind:"Name",value:"primaryTopic"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"slug"}}]}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"previewImage"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"alt"}},{kind:"Field",name:{kind:"Name",value:"focusPercentX"}},{kind:"Field",name:{kind:"Name",value:"focusPercentY"}}]}},{kind:"Field",name:{kind:"Name",value:"clapCount"}},{kind:"FragmentSpread",name:{kind:"Name",value:"usePostUrl_post"}}]}}].concat(i()(o.u.definitions))}},57189:(e,t,n)=>{"use strict";n.d(t,{N:()=>p});var r=n(67294),i=n(25145),o=n(4381),l=n(27323),a=n(77355),s=n(87691),d=n(8431),c=n(14646),u=n(43487),m=n(46696),p=function(e){var t,n=e.post,p=e.shouldDisplayTopic,f=void 0===p||p,v=e.withFixedWidth,g=void 0===v||v,h=(0,u.v9)((function(e){return e.config.mediumOwnedAndOperatedCollectionIds})),b=n&&n.previewImage||{},x=b.focusPercentX,E=b.focusPercentY,y=b.id,S=b.alt,w=n.collection||{},k=w.name,I=w.id,O=n.primaryTopic&&n.primaryTopic.name,N=I&&(h.includes(I)?k:O)||"",P=n&&n.title||"",F=(null==n||null===(t=n.previewContent)||void 0===t?void 0:t.subtitle)||"",_=(0,i.L)(n),D=y?"170px":"".concat(228,"px"),L=(0,c.I)();return r.createElement(l.P,{href:_},r.createElement(a.x,{display:"flex",flexDirection:"column",justifyContent:"center",marginBottom:"20px"},f?r.createElement(a.x,{marginBottom:"4px"},r.createElement(d.Lh,{tag:"span"},r.createElement(s.F,{scale:"S",color:"DARKER"},r.createElement("div",{className:L({whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"})},N)))):null,r.createElement(a.x,{display:"flex",flexDirection:"row"},y&&r.createElement(o.UV,{miroId:y||"",alt:S||"",height:58,width:58,freezeGifs:!0,strategy:m._S.Crop,rules:{marginRight:"8px",marginTop:"4px"},focusPercentX:x||50,focusPercentY:E||50}),r.createElement(a.x,{display:"flex",flexDirection:"column"},P&&r.createElement(s.F,{scale:"S",color:"DARKER",clamp:3,tag:"div"},r.createElement("div",{className:g?L({width:D}):void 0},P)),F&&(null==P?void 0:P.length)<45&&r.createElement(s.F,{scale:"S",color:"LIGHTER",clamp:1,tag:"div"},r.createElement("div",{className:g?L({width:D}):void 0},F))))))}},27693:(e,t,n)=>{"use strict";n.d(t,{ZR:()=>f,HX:()=>g,b2:()=>h,hE:()=>b});var r=n(59713),i=n.n(r),o=n(67294),l=n(33380),a=n(92071),s=n(96370),d=n(77355),c=n(14646),u=n(34135),m=n(37734),p=n(84509),f=131,v=function(e){return{pointerEvents:e?"auto":"none"}},g=function(e){var t=e.children,n=e.disableTransition,r=e.isFixed,u=e.scrollableRef,p=e.sidebarRef,g=e.testId,h=e.topOffset,b=e.visible,x=e.fixedWidth,E=e.extraWide,y=void 0!==E&&E,S=(0,c.I)(),w=function(e){var t,n,r,s=e.isFixed,d=void 0===s||s,c=e.disableTransition,u=void 0!==c&&c,p=e.scrollableRef,f=e.topOffset,v=e.visible,g=e.fixedWidth,h=e.extraWide,b=void 0!==h&&h,x=(r=null===(t=o.useContext(l.u6).watchedBounds.get("header"))||void 0===t||null===(n=t.ref)||void 0===n?void 0:n.current)?r.offsetTop+r.offsetHeight+64:a.Je+54+40;return function(e){return function(t){var n,r=b?"@media all and (max-width: 1240px)":(0,m.uc)(t,e,t.grid.xStep*t.grid.marginSteps.lg,p&&"current"in p?p.current:null),o=void 0===f?x:f;return n={opacity:v?1:0,pointerEvents:"none",position:d?"fixed":"absolute",willChange:"opacity, transform",width:g?"".concat(g,"px"):"100%",transform:"translateY(".concat(o,"px)"),top:0},i()(n,(0,m.nk)("no-preference"),{transition:u?"opacity 0s":"opacity 200ms"}),i()(n,r,{display:"none"}),n}}}({isFixed:r,scrollableRef:u,topOffset:h,visible:b,disableTransition:n,fixedWidth:x,extraWide:y}),k=y?197:f;return o.createElement("div",{className:S(w(k)),"data-test-id":g},o.createElement(s.P,{size:"outset"},o.createElement(d.x,{display:"flex",flexDirection:"column",width:"".concat(k,"px"),ref:p},o.createElement("div",{className:S(v(b))},t))))},h=function(e,t,n,r){if(!e)return!1;var i=r.threshold||10,o=Array.from(t.values()).filter((function(e){var t,r=e.ref,i=e.opts;return n.includes(null!==(t=i.type)&&void 0!==t?t:"")&&!!r.current})).map((function(e){var t=e.ref,n=e.opts,r=n&&n.offset,i=(0,p.L6)(t.current);return(0,p.Dd)(i,r)})),l=(0,p.L6)(e),a=0===l.width;return!o.some((function(e){return(0,p.kK)(e,l,i)}))&&!a},b=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=n?"scroll_throttled":"scroll";return function(){var n=(0,u.jC)(null!=t?t:void 0);return n.on(r,e),n.on("scroll_end",e),n.on("resize_throttled",e),function(){n.off(r,e),n.off("scroll_end",e),n.off("resize_throttled",e)}}}}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/19961.9af5b899.chunk.js.map
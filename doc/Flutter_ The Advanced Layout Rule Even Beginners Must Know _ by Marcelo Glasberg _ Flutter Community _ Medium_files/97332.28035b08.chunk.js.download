(self.webpackChunklite=self.webpackChunklite||[]).push([[97332],{47628:(e,n,t)=>{"use strict";t.d(n,{$:()=>p});var r=t(23450),o=t.n(r),l=t(67294),a=t(17878),i=t(93310),s=t(87691),u=t(14646),c=t(21372),p=function(e){var n=e.showVoters,t=e.shouldShowResponsiveLabelText,r=e.shouldHideClapsText,p=e.hasLabel,d=e.label,m=e.clapCount,v=e.showFullNumber,f=(0,u.I)(),g=v?(0,c.rR)(m):(0,c.pY)(m),h=p&&!r?o()("clap",m):"";return l.createElement("div",{className:f({"& button":{textAlign:"left"}})},l.createElement(s.F,{color:t||p||r?"DARKER":"LIGHTER",scale:"M"},t?l.createElement(l.Fragment,null,n?l.createElement(i.r,{onClick:n},g,l.createElement(a.s,null,"Â ",h)):g,l.createElement(a.s,null,d)):l.createElement(l.Fragment,null,n?l.createElement(i.r,{onClick:n},g," ",h):g,d)))}},73130:(e,n,t)=>{"use strict";t.d(n,{x:()=>v});var r=t(87757),o=t.n(r),l=t(48926),a=t.n(l),i=t(63038),s=t.n(i),u=t(67294),c=t(30472),p=t(77355),d=t(47230),m=t(20113),v=function(e){var n=e.isVisible,t=e.hide,r=e.voters,l=e.fetchMore,i=e.voterCount,v=e.title,f=e.clapCount,g=u.useState(!1),h=s()(g,2),C=h[0],b=h[1],E=u.useCallback(a()(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!l||C){e.next=8;break}return b(!0),e.prev=2,e.next=5,l();case 5:return e.prev=5,b(!1),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),[l,C,b]);return u.createElement(c.V,{isVisible:n,hide:t,withAnimation:!0},u.createElement(p.x,{maxWidth:"550px",sm:{paddingTop:"0"},paddingTop:"88px"},u.createElement(p.x,{display:"flex",flexDirection:"column",marginBottom:"24px",textAlign:"center"},u.createElement(m.X6,{scale:"S"},f," claps from ",i," ",1===i?"person":"people",' for "',v,'"')),r,l&&u.createElement(p.x,{display:"flex",flexDirection:"column",margin:"24px",alignItems:"center"},u.createElement(d.z,{buttonStyle:"SOCIAL",size:"SMALL",onClick:E},"Show more claps"))))}},13195:(e,n,t)=>{"use strict";t.d(n,{CP:()=>x});var r=t(59713),o=t.n(r),l=t(63038),a=t.n(l),i=t(28655),s=t.n(i),u=t(71439),c=t(46829),p=t(67294),d=t(22802),m=t(11462);function v(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function f(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?v(Object(t),!0).forEach((function(n){o()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):v(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function g(){var e=s()(["\n  mutation ClapMutation($targetPostId: ID!, $userId: ID!, $numClaps: Int!) {\n    clap(targetPostId: $targetPostId, userId: $userId, numClaps: $numClaps) {\n      viewerEdge {\n        ...ClapMutation_viewerEdge\n      }\n      ...ClapMutation_post\n    }\n  }\n  ","\n  ","\n"]);return g=function(){return e},e}function h(){var e=s()(["\n  fragment ClapMutation_viewerEdge on PostViewerEdge {\n    __typename\n    id\n    clapCount\n  }\n"]);return h=function(){return e},e}function C(){var e=s()(["\n  fragment ClapMutation_post on Post {\n    __typename\n    id\n    clapCount\n    ...MultiVoteCount_post\n  }\n  ","\n"]);return C=function(){return e},e}var b=(0,u.Ps)(C(),d.U),E=(0,u.Ps)(h()),w=(0,u.Ps)(g(),b,E),x=function(){var e=(0,c.useMutation)(w),n=a()(e,1)[0];return(0,p.useCallback)((function(e,t,r,o){return n({variables:{targetPostId:e.id,userId:t,numClaps:r},optimisticResponse:{clap:f(f({__typename:"Post"},e),{},{clapCount:e.clapCount+r,viewerEdge:{__typename:"PostViewerEdge",id:(0,m.Q)(e.id,t),clapCount:r}})},update:function(n,t){var l,a=null==t||null===(l=t.data)||void 0===l?void 0:l.clap;if(a){var i=n.readFragment({id:"Post:".concat(a.id),fragment:b,fragmentName:"ClapMutation_post"});n.writeFragment({id:"Post:".concat(a.id),fragment:b,fragmentName:"ClapMutation_post",data:f(f({},i),{},{clapCount:e.clapCount+r,viewerClapCount:((null==o?void 0:o.clapCount)||0)+r})})}}})}),[])}},22802:(e,n,t)=>{"use strict";t.d(n,{_:()=>$,U:()=>D});var r=t(28655),o=t.n(r),l=t(71439),a=t(67294),i=t(47628),s=t(319),u=t.n(s),c=t(82492),p=t.n(c),d=t(80439),m=t(73130),v=t(45365),f=t(32317),g=t(47431);function h(){var e=o()(["\n  query PostVotersDialogQuery($postId: ID!, $pagingOptions: PagingOptions) {\n    post(id: $postId) {\n      id\n      title\n      clapCount\n      voterCount\n      voters(paging: $pagingOptions) {\n        items {\n          user {\n            id\n            ...UserFollowButton_user\n            ...Voter_user\n          }\n          clapCount\n        }\n        pagingInfo {\n          next {\n            page\n          }\n        }\n      }\n      ...UserFollowButton_post\n    }\n  }\n  ","\n  ","\n  ","\n"]);return h=function(){return e},e}var C=function(e){var n=e.post,t=e.hide,r=e.isVisible,o=e.fetchMore;if(!n)return null;var l=n.title,i=n.voters,s=n.clapCount,u=n.voterCount;return a.createElement(m.x,{isVisible:r,fetchMore:o,hide:t,title:l,clapCount:s,voterCount:u,voters:i?i.items.map((function(e){var t=e.user,r=e.clapCount;return t&&a.createElement(v.a,{user:t,clapCount:r,key:t.id,followButton:a.createElement(f.Bv,{buttonSize:"SMALL",post:n,user:t,susiEntry:"follow_list"})})})):null})};function b(e){var n=e.postId,t=e.isVisible,r=e.hide;return t?a.createElement(d.AE,{ssr:!1,query:E,variables:{postId:n,pagingOptions:{limit:10}}},(function(e){var n,o=e.data,l=(o=void 0===o?{}:o).post,i=e.loading,s=e.error,c=e.fetchMore;if(i)return a.createElement(g.T,null);if(s||null==l||!l.voters)return null;var d=l.voters.pagingInfo&&l.voters.pagingInfo.next;if(d){var m={page:d.page};n=function(){return c({variables:{pagingOptions:m},updateQuery:function(e,n){var t,r,o,l,a,i,s=n.fetchMoreResult;return p()({},s,{post:{voters:{items:[].concat(u()(null!==(t=null==e||null===(r=e.post)||void 0===r||null===(o=r.voters)||void 0===o?void 0:o.items)&&void 0!==t?t:[]),u()(null!==(l=null==s||null===(a=s.post)||void 0===a||null===(i=a.voters)||void 0===i?void 0:i.items)&&void 0!==l?l:[]))}}})}})}}return a.createElement(C,{hide:r,fetchMore:n,post:l,isVisible:t})})):null}var E=(0,l.Ps)(h(),v.J,f.sj,f.S$),w=t(23450),x=t.n(w),y=t(98550),P=t(77355),k=t(93310),I=t(87691),O=t(21372),V=t(39202);function _(){var e=o()(["\n  fragment PostVotersNetwork_post on Post {\n    id\n    voterCount\n    recommenders {\n      name\n    }\n  }\n"]);return _=function(){return e},e}var M=function(e){var n,t,r=e.post,o=e.showVoters,l=(0,y.T)(r).viewerEdge,i=null!==(n=null===(t=r.recommenders)||void 0===t?void 0:t.map((function(e){return e.name})).filter(V.b))&&void 0!==n?n:[],s=(null!=l&&l.clapCount?["you"]:[]).concat(i).slice(0,2);if(!s.length)return null;var u=(r.voterCount||0)-s.length,c=s.join(u>0?", ":" and "),p="".concat(s.length>1?",":""," and"),d=x()("other",u),m=u>0?"".concat(p," ").concat((0,O.rR)(u)," ").concat(d):"";return a.createElement(P.x,{sm:{display:"none"}},a.createElement(k.r,{onClick:o},a.createElement(I.F,{scale:"S"},"Applause from ".concat(c).concat(m))))},S=(0,l.Ps)(_()),j=t(66227);function F(){var e=o()(["\n  fragment MultiVoteCount_post on Post {\n    id\n    ...PostVotersNetwork_post\n  }\n  ","\n"]);return F=function(){return e},e}function $(e){var n=e.clapCount,t=e.hasLabel,r=void 0!==t&&t,o=e.showFullNumber,l=void 0!==o&&o,s=e.post,u=e.shouldShowNetwork,c=e.hasDialog,p=void 0!==c&&c,d=e.shouldShowResponsiveLabelText,m=void 0!==d&&d,v=e.shouldHideClapsText,f=void 0!==v&&v,g=s.id;if(!(n>0))return null;var h=function(e){var t=e.showVoters;return a.createElement(i.$,{showVoters:t,hasLabel:r,showFullNumber:l,shouldShowResponsiveLabelText:m,shouldHideClapsText:f,label:u&&t?a.createElement(M,{showVoters:t,post:s}):null,clapCount:n})};return p&&g?a.createElement(j.B,null,(function(e){var n=e.isVisible,t=e.show,r=e.hide;return a.createElement(a.Fragment,null,a.createElement(h,{showVoters:t}),a.createElement(b,{isVisible:n,hide:r,postId:g}))})):a.createElement(h,null)}var D=(0,l.Ps)(F(),S)},17878:(e,n,t)=>{"use strict";t.d(n,{s:()=>u,e:()=>c});var r=t(67154),o=t.n(r),l=t(6479),a=t.n(l),i=t(67294),s=t(77355),u=function(e){var n=e.xs,t=e.sm,r=e.children,l=a()(e,["xs","sm","children"]);return i.createElement(s.x,o()({xs:{display:"none"},sm:{display:n?"inline-block":"none"},md:{display:n||t?"inline-block":"none"},lg:{display:"inline-block"},xl:{display:"inline-block"},tag:"span"},l),r)},c=function(e){var n=e.xs,t=e.sm,r=e.children,l=a()(e,["xs","sm","children"]);return i.createElement(s.x,o()({xs:{display:"inline-block"},sm:{display:n?"none":"inline-block"},md:{display:n||t?"none":"inline-block"},lg:{display:"none"},xl:{display:"none"},tag:"span"},l),r)}},51681:(e,n,t)=>{"use strict";function r(e,n,t){return!!n&&e[n.id]||{clapCount:(null==n?void 0:n.clapCount)||0,viewerClapCount:(null==t?void 0:t.clapCount)||0,viewerHasClappedSinceFetch:!1}}t.d(n,{l:()=>r})}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/97332.28035b08.chunk.js.map
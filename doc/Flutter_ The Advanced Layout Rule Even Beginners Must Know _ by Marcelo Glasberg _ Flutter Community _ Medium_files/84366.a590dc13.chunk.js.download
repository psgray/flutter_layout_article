(self.webpackChunklite=self.webpackChunklite||[]).push([[84366],{25538:(e,n,t)=>{"use strict";t.d(n,{Z:()=>r});var i=t(67294);function a(){return(a=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e}).apply(this,arguments)}var l=i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.11 12.23l-5.2-5.76L9.48 6l-.42.47-5.16 5.7.85.77L9.48 7.7 14.26 13l.85-.77z",fill:"#292929"});const r=function(e){return i.createElement("svg",a({width:19,height:19,viewBox:"0 0 19 19",fill:"none"},e),l)}},60918:(e,n,t)=>{"use strict";t.d(n,{i:()=>m});var i=t(319),a=t.n(i),l=t(68216),r=t(32934),o={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostJsonLd_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"Field",name:{kind:"Name",value:"seoTitle"}},{kind:"Field",name:{kind:"Name",value:"mediumUrl"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"username"}},{kind:"FragmentSpread",name:{kind:"Name",value:"userUrl_user"}}]}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"domain"}},{kind:"Field",name:{kind:"Name",value:"slug"}},{kind:"Field",name:{kind:"Name",value:"logo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"originalWidth"}},{kind:"Field",name:{kind:"Name",value:"originalHeight"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"previewImage"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"focusPercentX"}},{kind:"Field",name:{kind:"Name",value:"focusPercentY"}},{kind:"Field",name:{kind:"Name",value:"originalWidth"}},{kind:"Field",name:{kind:"Name",value:"originalHeight"}}]}},{kind:"Field",name:{kind:"Name",value:"isLocked"}},{kind:"Field",name:{kind:"Name",value:"firstPublishedAt"}},{kind:"Field",name:{kind:"Name",value:"updatedAt"}},{kind:"Field",name:{kind:"Name",value:"isShortform"}},{kind:"Field",name:{kind:"Name",value:"shortformType"}},{kind:"Field",name:{kind:"Name",value:"structuredData"}},{kind:"FragmentSpread",name:{kind:"Name",value:"getTitleForPost_post"}}]}}].concat(a()(l.$m.definitions),a()(r.bq.definitions))},d={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"postMetaDescription_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"Field",name:{kind:"Name",value:"seoDescription"}},{kind:"Field",name:{kind:"Name",value:"metaDescription"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"previewContent"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"subtitle"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"getPostContentAsString_post"}}]}}].concat(a()(r.bh.definitions))},s={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"shortformPostMetaDescription_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"metaDescription"}},{kind:"Field",name:{kind:"Name",value:"seoDescription"}},{kind:"Field",name:{kind:"Name",value:"shortformType"}},{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"FragmentSpread",name:{kind:"Name",value:"getPostContentAsString_post"}}]}}].concat(a()(r.bh.definitions))},m={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostMetadata_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"socialTitle"}},{kind:"Field",name:{kind:"Name",value:"socialDek"}},{kind:"Field",name:{kind:"Name",value:"noIndex"}},{kind:"Field",name:{kind:"Name",value:"curationStatus"}},{kind:"Field",name:{kind:"Name",value:"canonicalUrl"}},{kind:"Field",name:{kind:"Name",value:"mediumUrl"}},{kind:"Field",name:{kind:"Name",value:"metaDescription"}},{kind:"Field",name:{kind:"Name",value:"latestPublishedAt"}},{kind:"Field",name:{kind:"Name",value:"visibility"}},{kind:"Field",name:{kind:"Name",value:"isLimitedState"}},{kind:"Field",name:{kind:"Name",value:"readingTime"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"twitterScreenName"}},{kind:"FragmentSpread",name:{kind:"Name",value:"userUrl_user"}}]}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"twitterUsername"}},{kind:"Field",name:{kind:"Name",value:"facebookPageId"}}]}},{kind:"Field",name:{kind:"Name",value:"previewContent"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"subtitle"}}]}},{kind:"Field",name:{kind:"Name",value:"previewImage"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"focusPercentX"}},{kind:"Field",name:{kind:"Name",value:"focusPercentY"}},{kind:"Field",name:{kind:"Name",value:"originalHeight"}},{kind:"Field",name:{kind:"Name",value:"originalWidth"}}]}},{kind:"Field",name:{kind:"Name",value:"isShortform"}},{kind:"Field",name:{kind:"Name",value:"noIndex"}},{kind:"Field",name:{kind:"Name",value:"curationStatus"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostJsonLd_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"postMetaDescription_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"shortformPostMetaDescription_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"shouldIndexPost_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"shortformPostTitle_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"getTitleDetails_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"getTitleForPost_post"}}]}}].concat(a()(l.$m.definitions),a()(o.definitions),a()(d.definitions),a()(s.definitions),a()(r.HF.definitions),a()(r.Pz.definitions),a()(r.dm.definitions),a()(r.bq.definitions))}},34492:(e,n,t)=>{"use strict";t.d(n,{I:()=>p});var i,a=t(59713),l=t.n(a),r=t(67294);!function(e){e.S="S",e.L="L"}(i||(i={}));var o=t(77355),d=t(9935),s=t(87691),m=t(14646),c=t(97489),u=t(14804),p=function(e){var n=e.children,t=e.scale,a=void 0===t?i.L:t,p=e.alpha,k=void 0===p?.05:p,g=e.verticalMargins,v=void 0===g?{normal:"24px",small:"24px"}:g,f=e.horizontalMargins,S=void 0===f?{normal:"-16px",small:"-12px 0"}:f,y=e.dismissable,x=e.onClick,h=e.maxWidth,N=void 0===h?"740px":h,E=(0,m.I)();return r.createElement("div",{className:E((function(e){return l()({background:(0,u.Uy)(k),borderRadius:"4px",margin:"".concat(v.small," ").concat(S.small),position:"relative"},c.xl(e),{margin:"".concat(v.normal," ").concat(S.normal)})}))},r.createElement(o.x,{display:"flex",justifyContent:"space-between",maxWidth:N,padding:"16px",sm:{padding:"12px"}},r.createElement(s.F,{scale:a,color:"DARKER"},n),y&&x&&r.createElement(d.P,{onClick:x,size:"REGULAR",isPositionAbsolute:!1,compensateInnerPadding:!0,"data-testid":"close-button"})))}},36370:(e,n,t)=>{"use strict";t.d(n,{cu:()=>Ce,Y6:()=>_e,rU:()=>Pe});var i=t(28655),a=t.n(i),l=t(71439),r=t(67294),o=t(63007),d=t(72619);function s(){var e=a()(["\n  fragment MemberOnlyWall_post on Post {\n    id\n    creator {\n      id\n      name\n      username\n      ...useShouldShowEntityDrivenSubscription_creator\n      ...EntityDrivenSubscriptionLandingPageScreen_writer\n    }\n  }\n  ","\n  ","\n"]);return s=function(){return e},e}var m=(0,l.Ps)(s(),o.G,d._k),c=t(63038),u=t.n(c),p=t(12291),k=t(46829),g={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CreatorsDropdownQuery"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"userViewedPartnerProgramCreators"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"imageId"}}]}}]}}]},v=t(84531),f=t(77355);function S(e){var n=e.alt,t=e.diameter1,i=e.diameter2,a=e.diameter3,l=e.miroId1,o=e.miroId2,d=e.miroId3,s=e.freezeGifs;return r.createElement(r.Fragment,null,r.createElement(v.z,{alt:n,miroId:l,diameter:t,freezeGifs:s}),r.createElement(f.x,{paddingLeft:"2px",paddingTop:"2px",display:"flex",flexDirection:"column"},r.createElement(v.z,{alt:n,miroId:o,diameter:i,freezeGifs:s}),r.createElement(f.x,{paddingTop:"2px"},r.createElement(v.z,{alt:n,miroId:d,diameter:a,freezeGifs:s}))))}var y=t(38352),x=t(81281),h=t(66227),N=t(73917),E=t(47230),b=t(87691),F=t(18627),w=t(66411),I=t(14646),P=t(31889),_=t(99015),C=t(25538),A=t(87498),D="PAY_MULTIPLE_WRITERS_OPTION_ID",T=function(e){return{outline:"none",cursor:"pointer",background:e.accentColor.fill.normal,":hover":{background:e.accentColor.fill.dark}}},O=function(e){return{outline:"none",cursor:"pointer",":hover":{background:e.baseColor.background.light}}},M=[],R=function(e){var n,t,i=e.post,a=e.onSelect,l=(0,I.I)(),o=(0,P.F)(),d=(0,k.useQuery)(g,{ssr:!1}),s=d.error,m=d.data,c=d.loading,p=(0,F.Av)(),R=r.useState(null===(n=i.creator)||void 0===n?void 0:n.id),L=u()(R,2),U=L[0],B=L[1];if(!i.creator||s)return null;M=(null==m?void 0:m.userViewedPartnerProgramCreators.filter((function(e){var n;return(null==e?void 0:e.id)!==(null===(n=i.creator)||void 0===n?void 0:n.id)})).filter((function(e){return Boolean(e)})))||[],i.creator&&M.unshift({id:i.creator.id,name:i.creator.name,imageId:i.creator.imageId}),M.splice(5,0,{id:D,name:"quality writing",imageId:null});var j=null!==(t=i.creator.imageId)&&void 0!==t?t:A.gG,V=function(e){return U===e?"WHITE":"DARKER"},W=r.createElement(f.x,{width:"330px"},r.createElement(y.mX,{padding:"0"},r.createElement(f.x,null,M.slice(0,6).filter((function(e){return null!=e})).map((function(e,n){var t,o,d,s;return r.createElement(w.cW,{key:"creator-".concat(e.id),source:{index:n},extendSource:!0},r.createElement("div",{className:l((s=e.id,U===s?T:O)),onClick:function(){return function(e){var n,t;a(e),B(e.id),e.id===D?p.event("paywallDropdown.allCreatorsOptionSelected",{defaultCreatorId:null==i||null===(n=i.creator)||void 0===n?void 0:n.id}):p.event("paywallDropdown.creatorSelected",{defaultCreatorId:null==i||null===(t=i.creator)||void 0===t?void 0:t.id,selectedCreatorId:e.id})}(e)},"aria-hidden":"true","data-testid":"creator-item"},r.createElement(y.Sl,null,e.id!==D?r.createElement(f.x,{display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center"},r.createElement(v.z,{miroId:e.imageId||"",alt:e.name||"",diameter:32,freezeGifs:!1}),r.createElement(f.x,{paddingLeft:"21px"},r.createElement(b.F,{scale:"L",color:V(e.id)},e.name))):r.createElement(f.x,{display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center"},r.createElement(S,{miroId1:(null===(t=M[0])||void 0===t?void 0:t.imageId)||j,miroId2:(null===(o=M[1])||void 0===o?void 0:o.imageId)||j,miroId3:(null===(d=M[2])||void 0===d?void 0:d.imageId)||j,alt:"Pay multiple writers",diameter1:21,diameter2:12,diameter3:9,freezeGifs:!1}),r.createElement(f.x,{display:"inline-block",paddingLeft:"21px"},r.createElement(b.F,{tag:"span",scale:"L",color:V(e.id)},"Don't want to pick one writer?"),r.createElement(b.F,{tag:"span",scale:"S",color:V(e.id)},"Split your membership fee among writers you read"))))))}))),r.createElement(f.x,{padding:"8px 20px 0px 20px",ariaHidden:"true"},r.createElement(x.V,null)),r.createElement(f.x,{padding:"10px 20px 18px 20px"},r.createElement(b.F,{scale:"S",color:"LIGHTER"},"These are writers you read most, who are eligible to receive a portion of your membership fee via Medium’s Partner Program."))));return r.createElement(h.B,null,(function(e){var n=e.isVisible,t=e.toggle,a=e.hide;return r.createElement("div",{onClick:function(){var e;t(),n||p.event("paywallDropdown.clicked",{defaultCreatorId:null==i||null===(e=i.creator)||void 0===e?void 0:e.id})},"data-testid":"popover-button","aria-hidden":"true"},r.createElement(N.J,{isVisible:n,hide:a,flip:!0,popoverRenderFn:function(){return W},display:"flex",targetDistance:10},r.createElement(E.z,{width:"240px",buttonStyle:"SUBTLE",size:"REGULAR",loading:c},r.createElement(f.x,{display:"flex",justifyContent:"center"},r.createElement(b.F,{scale:"M",color:"DARKER"},"Support a different writer"),r.createElement(f.x,{paddingLeft:"4px"},n?r.createElement(C.Z,{fill:o.baseColor.text.lighter}):r.createElement(_.Z,{fill:o.baseColor.text.lighter}))))))}))},L=t(14804),U=/rgba\(([\d]+),\s*([\d]+),\s*([\d]+),\s*([\d]+|[\d]*.[\d]+)\)/,B=function(e){var n,t,i=e.children,a=(0,P.F)();return r.createElement(r.Fragment,null,r.createElement(f.x,{marginTop:"-240px",background:"linear-gradient(".concat((n=a.backgroundColor,t=n.match(U),t?"rgba(".concat(t[1],", ").concat(t[2],", ").concat(t[3],", 0)"):(0,L.l9)(0)),", ").concat(a.backgroundColor,")"),height:"250px",position:"relative",width:"100%"}),r.createElement(f.x,{backgroundColor:"BACKGROUND"},r.createElement(f.x,{margin:"auto",maxWidth:"760px",sm:{margin:"0 24px 0"}},i)))},j=t(25735),V=t(6443),W=t(25550),G=t(867),z=t(58670),H=t(84157),q=t(54558),$=t(43822),K=t(8126),Y=t(90924),Q=t(97171),Z=t(78285),J=t(43487),X=t(17583),ee=t(78870),ne=t(50458);function te(){var e=a()(["\n  fragment PayWall_post on Post {\n    id\n    creator {\n      id\n      name\n      imageId\n      referredMembershipCustomHeadline\n      referredMembershipCustomBody\n    }\n  }\n"]);return te=function(){return e},e}var ie=function(e){var n,t=e.post,i=e.showTrialPaywall,a=e.authDomain,l=e.enablePaywallConversionsForReferredMembers,o=e.enableCreatorsDropdown,d=e.selectedCreatorId,s=(0,V.H)().value,m=t.creator&&t.creator.id,c=(0,ne.c5p)(a),u=(0,F.Av)();n=o?(0,ee.Rk)((0,ne.c5p)(a),{subscribeToUserId:d||"",susiEntry:"post_paywall"}):(0,ee.Rk)((0,ne.c5p)(a),{subscribeToUserId:m||"",susiEntry:"post_paywall"});var p=l?n:c,k=r.useCallback((function(){u.event("paywall.upgradeClicked",{postId:null==t?void 0:t.id,userId:null==s?void 0:s.id})}),[t,null==s?void 0:s.id]);return r.createElement(w.cW,{source:{dimension:"post_limit",name:"upgrade_membership",postId:t.id}},r.createElement(Y.M,null,r.createElement(f.x,{display:"inline-block",textAlign:"center"},r.createElement($.a,{isButton:!0,onClick:k,buttonStyle:i?"BRAND":"STRONG",width:o?"240px":i||s&&s.hasPastMemberships?"182px":"104px",redirectUrl:p},i?"Start your free trial":s&&s.hasPastMemberships?"Resume membership":"Upgrade"))))},ae=function(e){var n=e.declineSuggestedAccount,t=e.userSocialLogins,i=(0,p.I0)();return r.createElement(w.cW,{source:{susiEntry:"post_paywall"},extendSource:!0},r.createElement(f.x,{display:"flex",sm:{flexDirection:"column"}},r.createElement(f.x,{display:"flex",flexDirection:"row",justifyContent:"center"},t.facebook||t.google||t.twitter?r.createElement(z.r,{userSocialLogins:t}):r.createElement(G.o,{onSuccess:function(){return i((0,Z.Pc)({step:"CHECK_YOUR_INBOX",operation:"login",susiEntry:"post_paywall"}))},userId:t.userId},(function(e){var n=e.handleSubmit;return r.createElement(E.z,{buttonStyle:"SOCIAL",size:"REGULAR",onClick:n},"Send login link")})))),n&&r.createElement(f.x,{marginTop:"10px",marginRight:"5px",sm:{marginTop:"20px"},display:"flex",justifyContent:"center",flexDirection:"column"},r.createElement(b.F,{scale:"M"},r.createElement(H.G,{declineSuggestedAccount:n,isSocial:!!t&&!!(t.facebook||t.google||t.twitter)}))))},le=function(e){var n=e.declineSuggestedAccount,t=e.userSocialLogins,i=e.suggestedAccountEventData,a=e.showSuggestedAccount,l=e.postId;return r.createElement(w.cW,{source:{dimension:"post_limit_suggestion",name:"upgrade_membership",postId:l}},r.createElement(Y.M,{eventData:i},r.createElement(f.x,{display:"inline-block",textAlign:"center"},r.createElement(ae,{declineSuggestedAccount:n,showSuggestedAccount:a,userSocialLogins:t}),r.createElement(f.x,{display:"flex",flexDirection:"row",marginTop:"10px",sm:{justifyContent:"center"}},r.createElement(b.F,{scale:"L"},r.createElement($.a,{eventData:i,linkStyle:"OBVIOUS"},"Learn more about membership"))))))},re=function(e){var n=e.post,t=e.excludePadding,i=void 0!==t&&t,a=(0,J.v9)((function(e){return e.config.authDomain})),l=(0,J.v9)((function(e){return e.config.productName})),o=r.useState(n.creator),d=u()(o,2),s=d[0],m=d[1],c=(0,V.H)().value,p=(0,W.r)().viewerId,k=(0,F.Av)(),g=null==c?void 0:c.isMembershipTrialEligible,S=!(!(0,j.VB)({name:"enable_trial_upsell",placeholder:!1})||!g),y=(0,X.s)(),x="xs"===y||"sm"===y,h=!!(0,j.VB)({name:"optimizely_holdback",placeholder:!1}),N="Your membership fee directly supports ".concat(n.creator&&n.creator.name," and other writers you read. You'll also get full access to every story on ").concat(l,"."),E=n.creator&&n.creator.referredMembershipCustomBody,w=!!(0,j.VB)({name:"enable_referred_membership_entity_led_paywall",placeholder:!1}),I=!!(0,j.VB)({name:"enable_paywall_conversions_for_referred_members",placeholder:!1}),P=!!(0,j.VB)({name:"enable_paywall_with_dropdown",placeholder:!1}),_=!!(0,j.VB)({name:"enable_referred_memberships_custom_messaging",placeholder:!1}),C=!!(0,j.VB)({name:"enable_referred_memberships_custom_messaging_on_paywall",placeholder:!1}),D=_&&C;r.useEffect((function(){g&&k.event("experiment.eligible",{experimentId:"6797776ba4cf"})}),[g]),r.useEffect((function(){k.event("paywall.viewed",{userId:null==c?void 0:c.id})}),[]);var T=function(){var e,t,i;if(null===(e=i=P?s:n.creator)||void 0===e||!e.imageId)return null;var a=null!==(t=i.imageId)&&void 0!==t?t:A.gG;return r.createElement(f.x,{display:"flex",paddingBottom:"16px",justifyContent:"center"},r.createElement(v.z,{miroId:a,alt:i.name||"",diameter:80,freezeGifs:!1}))};return r.createElement(B,null,r.createElement(q.o,{postRenderCallback:function(){}},(function(e){var t,o=e.loading,d=e.showSuggestedAccount,u=e.declineSuggestedAccount,k=e.userSocialLogins;return o?r.createElement(r.Fragment,null):(d&&(t={alternateUserSuggestionShown:d,alternateUserSuggestionAccountType:(0,Q.S)(k),alternateUserSuggestionTargetUserId:!!k&&k.userId,alternateUserSuggestionSourceUserId:p}),r.createElement(r.Fragment,null,r.createElement(f.x,{display:"flex",justifyContent:"center",textAlign:"center",sm:{flexDirection:"column"}},r.createElement(f.x,{display:"flex",flexDirection:"column",padding:i?"48px 0 0":"48px 50px",sm:{padding:w?"0":"28px 16px 32px",textAlign:"center"}},(w||P||D)&&r.createElement(T,null),r.createElement(K.F1,{scale:{xs:"S",sm:"S",md:"M",lg:"M",xl:"M"}},function(e,n,t,i,a,l,o){var d=a.showSuggestedAccount,s=a.showTrialPaywall,m=a.inHoldback,c=a.showEntityLedPaywall,u=a.enableCreatorsDropdown,p=a.enableCustomMessaging,k=n?(0,Q.J)(n):null;k=k&&k.length<=13?k:null;var g="Read every story from ".concat(t," (and thousands of other writers on ").concat(e,").");return d?"Switch to your member account for unlimited reading.":s?r.createElement(f.x,{textAlign:"center",sm:{marginBottom:"5px",textAlign:"center"}},k?"".concat(k,", keep reading."):"Keep reading."):c&&!u?r.createElement(f.x,{maxWidth:"680px",margin:"auto",textAlign:"center"},r.createElement(f.x,{sm:{marginBottom:"8px"}},k?"".concat(k,", read more from ").concat(t," — and everyone else on ").concat(e,"."):"This is a member-only story published by ".concat(t,"."))):u&&l?r.createElement(f.x,{maxWidth:"680px",margin:"auto",textAlign:"center",sm:{width:"327px"}},r.createElement(K.F1,{scale:o?"S":"M",clamp:2},"Keep reading and support ",l.name)):p?r.createElement(f.x,{maxWidth:"680px",margin:"auto",textAlign:"center"},r.createElement(f.x,{sm:{marginBottom:"8px"}},i||g)):r.createElement(f.x,{textAlign:"left",sm:{marginBottom:"5px",textAlign:"center"}},m?"How to read this story — and everything else on ".concat(e,"."):k?t?"".concat(k,", read more from ").concat(t," — and everyone else on ").concat(e,"."):"".concat(k,", here's how to read this story — and everything else on ").concat(e,"."):t?"How to read this story from ".concat(t," — and everything else on ").concat(e,"."):"How to read this story — and everything else on ".concat(e,"."))}(l,c&&c.name,n.creator&&n.creator.name,n.creator&&n.creator.referredMembershipCustomHeadline,{showSuggestedAccount:d,showTrialPaywall:S,inHoldback:h,showEntityLedPaywall:w,enableCreatorsDropdown:P,enableCustomMessaging:D},s,x)),r.createElement(b.F,{scale:{xs:"M",sm:"M",md:"L",lg:"L",xl:"L"},color:"DARKER",tag:"div"},!d&&!S&&r.createElement(r.Fragment,null,w&&!P?r.createElement(f.x,{maxWidth:"680px",margin:"auto",textAlign:"center"},r.createElement(f.x,{marginTop:"8px",marginBottom:"16px"},"Reward great thinking. When you become a member, you get unlimited access to Medium and 50% of your membership fee goes to"," ",n.creator&&n.creator.name,".*")):P?r.createElement(f.x,{maxWidth:"680px",margin:"auto",textAlign:"center",sm:{width:"327px"}},r.createElement(f.x,{marginTop:"10px",marginBottom:"10px"},"When you become a member, you will get unlimited access to Medium and 50% of your membership fee will go to ",null==s?void 0:s.name,".*")):D?r.createElement(f.x,{marginTop:"8px",marginBottom:"28px",textAlign:"center",sm:{width:"327px"}},r.createElement(f.x,{marginTop:"10px",marginBottom:"10px"},E||N)):r.createElement(f.x,{marginTop:"8px",marginBottom:"28px",textAlign:"left",sm:{display:"inline-block",textAlign:"center"}},"You’ve read all your free member-only stories, become a member to get unlimited access. Your membership fee supports the voices you want to hear more from."),r.createElement(f.x,{display:"flex",justifyContent:P||w||D?"center":void 0},P&&r.createElement(f.x,{display:"flex",alignItems:"center",xs:{flexDirection:"column"},sm:{flexDirection:"column"}},!x&&r.createElement(f.x,{display:"flex"},r.createElement(R,{post:n,onSelect:m}),r.createElement(f.x,{paddingLeft:"8px"},r.createElement(ie,{post:n,showTrialPaywall:S,authDomain:a,enablePaywallConversionsForReferredMembers:I,enableCreatorsDropdown:!0,selectedCreatorId:null==s?void 0:s.id}))),x&&r.createElement(f.x,null,r.createElement(ie,{post:n,showTrialPaywall:S,authDomain:a,enablePaywallConversionsForReferredMembers:I,enableCreatorsDropdown:!0,selectedCreatorId:null==s?void 0:s.id}),r.createElement(f.x,{paddingTop:"8px"},r.createElement(R,{post:n,onSelect:m})))),!P&&r.createElement(ie,{post:n,showTrialPaywall:S,authDomain:a,enablePaywallConversionsForReferredMembers:I})),(w||P)&&r.createElement(f.x,{paddingTop:"16px",margin:"auto",textAlign:"center"},r.createElement(b.F,{scale:"S",color:"LIGHTER"},"* Minus standard payment processing fees"))),r.createElement(f.x,{marginTop:d?"28px":"8px",marginBottom:"28px",paddingRight:"6px",paddingLeft:"6px",sm:{display:"inline-block"}},function(e,n,t,i){var a=t.showTrialPaywall;if(t.showSuggestedAccount&&n){var l=n.isMember,o=n.redactedEmailAddress;return r.createElement(r.Fragment,null,"Looks like you're coming from the ",l&&"member ","account"," ",r.createElement("b",null,o)," but you’re signed in as ",r.createElement("b",null,null==i?void 0:i.email),". Switch to your",l?" member account for unlimited access":" account",".")}return r.createElement(f.x,{textAlign:a?"center":"left"},a?"Start your 1 month free trial for unlimited access to everything on ".concat(e,". If it’s not for you, cancel anytime."):"")}(l,k,{showSuggestedAccount:d,showTrialPaywall:S},c))),!!d&&k&&r.createElement(le,{declineSuggestedAccount:u,userSocialLogins:k,suggestedAccountEventData:t,showSuggestedAccount:d,postId:n.id}),S&&!d&&r.createElement(ie,{post:n,showTrialPaywall:S,authDomain:a,enablePaywallConversionsForReferredMembers:I})))))})))},oe=(0,l.Ps)(te()),de=t(33916),se=t(36405),me=t(26350),ce=t(28451),ue=t(54935),pe=t(32442),ke=t(69862),ge=t(73950),ve=t(21755),fe=t(40980);function Se(){var e=a()(["\n  fragment RegWall_meteringInfo on MeteringInfo {\n    postIds\n  }\n"]);return Se=function(){return e},e}function ye(){var e=a()(["\n  fragment RegWall_post on Post {\n    id\n    lockedSource\n    ...SusiClickable_post\n  }\n  ","\n"]);return ye=function(){return e},e}var xe="post_regwall",he=function(e){var n=e.enablePasswords,t=e.meterCount,i=e.postId,a={operation:"register"},l=(0,ue.j)().openModal;return r.createElement(f.x,{display:"flex",flexDirection:"column",textAlign:"center",sm:{flexDirection:"column"}},r.createElement(f.x,{margin:"".concat(n?"32px":"62px"," 0 10px"),sm:{margin:"40px 0 12px 0"}},r.createElement(fe.$,{eventData:{meterCount:t,operation:a.operation,postId:i}},r.createElement(ge.x,a))),r.createElement(f.x,{marginBottom:n?"32px":"52px",sm:{marginBottom:"40px"}},r.createElement(fe.$,{eventData:{meterCount:t,operation:a.operation,postId:i}},n?r.createElement(pe.R,{goToEmailAuthStep:function(){l({step:"ENTER_EMAIL",susiEntry:xe,operation:"register"})},operation:"register"}):r.createElement(ke.q,a))))},Ne=function(e){var n=e.meteringInfo,t=e.post,i=e.setIsLORegWallVisible,a=(0,F.Av)(),l=!!(0,se.P5)("enable_passwords"),o="LOCKED_POST_SOURCE_SYNDICATED"===t.lockedSource,d=!!(0,j.VB)({name:"enable_mobile_regwall_read_in_app_button",placeholder:!1}),s=(0,X.s)()||ve.j.lg,m=s===ve.j.xs||s===ve.j.sm;return r.useEffect((function(){a.event("meter.viewed",{meterCount:null==n?void 0:n.postIds.length,postId:t.id,uiType:o?ce.j.SyndicatedRegwall:ce.j.RegWall}),i&&i(!0),m&&a.event("experiment.eligible",{experimentId:"fd487b2905f"})}),[]),r.createElement(w.cW,{source:{postId:t.id,susiEntry:xe}},r.createElement(B,null,r.createElement(f.x,{display:"flex",textAlign:"center",justifyContent:"center",sm:{flexDirection:"column",textAlign:"center"}},r.createElement(f.x,{padding:"48px 56px",sm:{padding:"28px 16px 48px"}},r.createElement(K.F1,{scale:{xs:"S",sm:"S",md:"M",lg:"M",xl:"M"}},r.createElement(f.x,{display:"none",sm:{display:"block"}},"To keep reading this story, get the free app or log in."),r.createElement(f.x,{display:"block",sm:{display:"none"}},"Read the rest of this story with a free account.")),r.createElement(b.F,{color:"DARKER",scale:{xs:"M",sm:"M",md:"L",lg:"L",xl:"L"},tag:"div"},r.createElement(f.x,{display:"none",sm:{display:"block"}},r.createElement(f.x,{margin:"".concat(l?"40px":"42px"," 0")},r.createElement(de.a,{isButton:!0,postId:t.id,appEntry:"regwall",copy:"".concat(d?"Read in app":"Open in app")})),r.createElement(f.x,{marginBottom:"-20px"},"Or, continue in mobile web")),r.createElement(he,{meterCount:null==n?void 0:n.postIds.length,postId:t.id,enablePasswords:l}),"Already have an account?"," ",r.createElement(me.R9,{linkStyle:"OBVIOUS",operation:"login",post:t,susiEntry:xe},"Sign in"))))))},Ee=(0,l.Ps)(ye(),me.qU),be=(0,l.Ps)(Se()),Fe=t(97426);function we(){var e=a()(["\n  fragment Wall_meteringInfo on MeteringInfo {\n    ...RegWall_meteringInfo\n  }\n  ","\n"]);return we=function(){return e},e}function Ie(){var e=a()(["\n  fragment Wall_post on Post {\n    content(postMeteringOptions: $postMeteringOptions) {\n      isLockedPreviewOnly\n    }\n    isLocked\n    isMarkedPaywallOnly\n    ...MemberOnlyWall_post\n    ...PayWall_post\n    ...RegWall_post\n  }\n  ","\n  ","\n  ","\n"]);return Ie=function(){return e},e}var Pe=(0,l.Ps)(Ie(),m,oe,Ee),_e=(0,l.Ps)(we(),be),Ce=function(e){var n=e.post,t=e.meteringInfo,i=e.excludePadding,a=e.setIsLORegWallVisible,l=n.id,o=n.content.isLockedPreviewOnly,d=(0,V.H)(),s=d.value,m=d.loading;if(!(0,Fe.n)(l,o).loading&&o){if(s)return r.createElement(re,{post:n,excludePadding:i});if(!m)return r.createElement(Ne,{post:n,meteringInfo:t,setIsLORegWallVisible:a})}return null}},45114:(e,n,t)=>{"use strict";t.d(n,{kD:()=>g,T8:()=>v,Qw:()=>f});var i,a,l=t(59713),r=t.n(l),o=t(28959),d="post-view",s="post-read",m="topic-view",c="medium-search",u="external-search",p=(i={},r()(i,d,200),r()(i,s,200),r()(i,m,200),r()(i,c,200),r()(i,u,200),i),k=(a={},r()(a,d,new o.Z("pv")),r()(a,s,new o.Z("pr")),r()(a,m,new o.Z("tv")),r()(a,c,new o.Z("ms")),r()(a,u,new o.Z("es")),a),g=function(e){S(d,e,Date.now())},v=function(e){S(s,e,Date.now())},f=function(e){S(m,e,Date.now())},S=function(e,n,t){var i=k[e];i.getCount()===p[e]&&i.clean();try{i.set(n,t)}catch(e){i.clean()}}},63007:(e,n,t)=>{"use strict";t.d(n,{G:()=>r});var i=t(28655),a=t.n(i);function l(){var e=a()(["\n  fragment useShouldShowEntityDrivenSubscription_creator on User {\n    id\n  }\n"]);return l=function(){return e},e}var r=(0,t(71439).Ps)(l())},97426:(e,n,t)=>{"use strict";t.d(n,{n:()=>m});var i=t(46829),a=t(77280),l=t(43487),r=t(319),o=t.n(r),d=t(42423),s={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PostViewerEdgeContentQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postMeteringOptions"}},type:{kind:"NamedType",name:{kind:"Name",value:"PostMeteringOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"viewerEdge"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"fullContent"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postMeteringOptions"},value:{kind:"Variable",name:{kind:"Name",value:"postMeteringOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isLockedPreviewOnly"}},{kind:"Field",name:{kind:"Name",value:"validatedShareKey"}},{kind:"Field",name:{kind:"Name",value:"bodyModel"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PostBody_bodyModel"}}]}}]}}]}}]}}]}}]}}].concat(o()(d.Pk.definitions))},m=function(){var e,n,t,r,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",d=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],m=(0,l.v9)((function(e){return e.navigation.referrer})),c=null!==(e=(0,a.G1)())&&void 0!==e?e:void 0,u=null!==(n=(0,a.PM)())&&void 0!==n?n:void 0,p={referrer:m,sk:c,source:u},k=(0,i.useQuery)(s,{variables:{postId:o,postMeteringOptions:p},ssr:!1,skip:!o||!d}),g=k.loading,v=k.error,f=k.data,S=null==f||null===(t=f.post)||void 0===t||null===(r=t.viewerEdge)||void 0===r?void 0:r.fullContent;return g?{loading:g}:v?{error:v}:{content:S}}},867:(e,n,t)=>{"use strict";t.d(n,{o:()=>x});var i=t(63038),a=t.n(i),l=t(28655),r=t.n(l),o=t(71439),d=t(80439),s=t(67294),m=t(36405),c=t(25550),u=t(93717),p=t(18839),k=t(18627),g=t(66411),v=t(80872),f=t(43487);function S(){var e=r()(["\n  mutation SendAcctAuthEmailByUserId(\n    $userId: String!\n    $redirect: String\n    $fullName: String\n    $captchaValue: String\n  ) {\n    sendAcctAuthEmailByUserId(\n      userId: $userId\n      redirect: $redirect\n      fullName: $fullName\n      captchaValue: $captchaValue\n    ) {\n      ... on SusiMethod {\n        value\n      }\n      ... on BadRequest {\n        message\n      }\n      ... on FailedChallenge {\n        message\n      }\n      ... on NotFound {\n        message\n      }\n    }\n  }\n"]);return S=function(){return e},e}var y=(0,o.Ps)(S()),x=function(e){var n=e.actionUrl,t=e.children,i=e.onSuccess,l=e.token,r=e.userId,o=(0,k.Av)(),S=!!(0,m.P5)("skip_sign_in_recaptcha"),x=s.useState(!1),h=a()(x,2),N=h[0],E=h[1],b=(0,f.v9)((function(e){return e.navigation.currentLocation})),F=function(){E(!1)},w=(0,g.pK)(),I=(0,g.hp)(),P=n&&l?(0,p.hQ)(b,w,I,n,l):(0,p.hQ)(b,w,I),_=(0,c.r)(),C=_.loading,A=_.error,D=_.viewerId;return C||A?null:s.createElement(d.mm,{mutation:y,onCompleted:function(e){switch(e.sendAcctAuthEmailByUserId.__typename){case"SusiMethod":o.event("site.loginLinkSent",{}),i&&i();break;case"FailedChallenge":o.event("site.loginByEmailCaptchaFailure",{}),E(!1);break;case"BadRequest":case"NotFound":default:F()}},onError:F},(function(e){var n=function(n){(0,v.Zs)(!0,D,r,"Email",!1);var t="medium";o.event("susi.methodClicked",{entryPoint:I,operation:"login",susiMethod:t.toLowerCase(),alternateUserSuggestionShown:!0,alternateUserSuggestionAccountType:t.toLowerCase(),alternateUserSuggestionTargetUserId:r,alternateUserSuggestionSourceUserId:D}),e({variables:{userId:r,redirect:P,captchaValue:n}})};return s.createElement(s.Fragment,null,!S&&s.createElement(u.k,{callback:n,shouldExecuteRecaptcha:N}),t({handleSubmit:function(){return S?n(null):E(!0)}}))}))}},58670:(e,n,t)=>{"use strict";t.d(n,{r:()=>d});var i=t(67294),a=t(69862),l=t(73950),r=t(2959),o=t(40980),d=function(e){var n=e.actionUrl,t=e.token,d=e.userSocialLogins,s={actionUrl:n||"",operation:"login",token:t||"",targetUserId:d.userId,alternateUserSuggestion:!0};return i.createElement(o.$,{eventData:{operation:s.operation}},d.google?i.createElement(l.x,s):d.facebook?i.createElement(a.q,s):d.twitter?i.createElement(r.G,s):i.createElement(i.Fragment,null))}},84157:(e,n,t)=>{"use strict";t.d(n,{G:()=>p});var i=t(59713),a=t.n(i),l=t(67294),r=t(12291),o=t(6443),d=t(93310),s=t(66411),m=t(78285),c=t(43487);function u(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}var p=function(e){var n=e.declineSuggestedAccount,t=e.isSocial,i=(0,c.v9)((function(e){return e.navigation.hasRenderedAlternateUserBanner})),p=(0,s.hp)(),k=(0,r.I0)(),g=(0,o.H)(),v=g.loading,f=g.error,S=g.value;if(v||f)return l.createElement(l.Fragment,null);var y=function(e){return e?l.createElement(d.r,{onClick:function(){return x("SIGNIN_OPTIONS")},linkStyle:"OBVIOUS"},"See all login options"):l.createElement(l.Fragment,null,"Not you?"," ",l.createElement(d.r,{onClick:function(){return x("SIGNIN_OPTIONS")},linkStyle:"OBVIOUS"},"Sign in")," or ",l.createElement(d.r,{onClick:function(){return x("SIGNUP_OPTIONS")},linkStyle:"OBVIOUS"},"create an account"))},x=function(e){var t="SIGNIN_OPTIONS"===e?"login":"register";n(),k((0,m.Pc)(function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?u(Object(t),!0).forEach((function(n){a()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):u(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({operation:t,step:e},!!p&&{susiEntry:p})))};return i?y(S):S?l.createElement(d.r,{onClick:function(){return n()}},"Not me"):y(t)}},54558:(e,n,t)=>{"use strict";t.d(n,{o:()=>h});var i=t(28655),a=t.n(i),l=t(59713),r=t.n(l),o=t(63038),d=t.n(o),s=t(71439),m=t(80439),c=t(67294),u=t(6443),p=t(25550),k=t(18627),g=t(66411),v=t(97171),f=t(77280);function S(){var e=a()(["\n  query UserSocialLoginsQuery($userId: String!) {\n    userSocialLogins(userId: $userId) {\n      userId\n      twitter\n      facebook\n      google\n      redactedEmailAddress\n      isMember\n      emailAddress\n      userAvatar {\n        __typename\n        username\n        name\n        imageId\n        mediumMemberAt\n      }\n    }\n  }\n"]);return S=function(){return e},e}function y(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function x(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?y(Object(t),!0).forEach((function(n){r()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):y(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var h=function(e){var n=e.children,t=e.postRenderCallback,i=(0,k.Av)(),a=(0,g.hp)(),l=(0,f.PM)(),r=(0,g.P7)(l||""),o=r.userId,s=r.name,S=c.useState({shouldRun:!1,showSuggestedAccount:!1,userSocialLogins:{facebook:!1,google:!1,twitter:!1,redactedEmailAddress:"",emailAddress:"",userAvatar:{__typename:"UserAvatar",username:"",name:"",imageId:"",mediumMemberAt:0},userId:"",isMember:!1}}),y=d()(S,2),h=y[0],E=y[1];c.useEffect((function(){var e=h.shouldRun,n=h.showSuggestedAccount,i=h.userSocialLogins;e&&t(b,n,i)}),[h.shouldRun]);var b=(0,u.H)().value,F=(0,p.r)(),w=F.loading,I=F.error,P=F.viewerId;if(w||I)return null;var _=!("email"!==s||b&&b.mediumMemberAt||!o);return _&&o?c.createElement(m.AE,{query:N,variables:{userId:o}},(function(e){var l=e.loading,r=e.error,o=e.data,d=(o=void 0===o?{}:o).userSocialLogins,s=!(l||r||!d||b&&!d.isMember||!d.facebook&&!d.google&&!d.twitter&&!d.redactedEmailAddress),m=x({loading:l,showSuggestedAccount:s},s&&{userSocialLogins:d,declineSuggestedAccount:function(){var e=(0,v.S)(d);i.event("susi.suggestNotYou",{entryPoint:a,susiMethod:e,alternateUserSuggestionAccountType:e,alternateUserSuggestionTargetUserId:null==d?void 0:d.userId,alternateUserSuggestionSourceUserId:P})}});return!t||l||h.shouldRun||E({shouldRun:!0,showSuggestedAccount:s,userSocialLogins:d}),n(m)})):(t&&!h.shouldRun&&E(x(x({},h),{},{shouldRun:!0})),n({showSuggestedAccount:_,loading:!1}))},N=(0,s.Ps)(S())},28451:(e,n,t)=>{"use strict";var i;t.d(n,{j:()=>i}),function(e){e.LOHighlightCTA="lo_highlight_cta",e.LIHighlightCTA="li_highlight_cta",e.RegWall="regwall",e.SyndicatedRegwall="syndicated_regwall"}(i||(i={}))},99849:(e,n,t)=>{"use strict";t.d(n,{t:()=>S,W:()=>y});var i=t(28655),a=t.n(i),l=t(63038),r=t.n(l),o=t(71439),d=t(67294),s=t(12291),m=t(45114),c=t(18627),u=t(66411),p=t(34135),k=t(78285),g=t(77280),v=t(84509);function f(){var e=a()(["\n  fragment PostReadTracker_post on Post {\n    id\n    collection {\n      slug\n    }\n    sequence {\n      sequenceId\n    }\n    content(postMeteringOptions: $postMeteringOptions) {\n      isLockedPreviewOnly\n    }\n  }\n"]);return f=function(){return e},e}function S(e,n,t,i){var a=(0,c.Av)(),l=(0,u.pK)(),o=(0,g.he)(),f=d.useState(!1),S=r()(f,2),y=S[0],x=S[1],h=(0,s.I0)();d.useEffect((function(){if(!y&&t){var r=function(){if(n.current&&!y){var r=(0,v.L6)(n.current),d=(0,v.tM)(r),s=d.top+d.height,c=(0,v.tM)((0,v.t_)()),u=c.top+c.height,p=t.content.isLockedPreviewOnly,g=i||l.includes("post_page");if(!p&&u>=s-100&&g){x(!0),h((0,k.C2)(!0));var f={source:i?"post_page":l,postId:t.id,collectionSlug:t.collection?t.collection.slug:"",sequenceId:t.sequence?t.sequence.sequenceId:""},S={referrer:o,referrerSource:l};i?a.event("post.clientRead",f,S):a.event("post.clientRead",f),e||(0,m.T8)(t.id)}}};return p.V6.on("scroll_end",r),function(){p.V6.off("scroll_end",r)}}}),[y,t,i]),d.useEffect((function(){return function(){h((0,k.C2)(!1))}}),[])}var y=(0,o.Ps)(f())},72619:(e,n,t)=>{"use strict";t.d(n,{d0:()=>A,_k:()=>D});var i=t(28655),a=t.n(i),l=t(71439),r=t(67294),o=t(46580),d=t(42174),s=t(27442),m=t(54878),c=t(17878),u=t(25735),p=t(6443),k=t(84531),g=t(77355),v=t(96370),f=t(47230),S=t(93310),y=t(21755),x=t(8126),h=t(87691),N=t(18627),E=t(66411),b=t(43487),F=t(87498),w=t(17583),I=t(78870),P=t(50458),_=t(68216);function C(){var e=a()(["\n  fragment EntityDrivenSubscriptionLandingPageScreen_writer on User {\n    name\n    imageId\n    id\n    username\n    isPartnerProgramEnrolled\n    referredMembershipCustomHeadline\n    referredMembershipCustomBody\n    customStyleSheet {\n      ...CustomThemeProvider_customStyleSheet\n      ...CustomBackgroundWrapper_customStyleSheet\n      ...MetaHeader_customStyleSheet\n    }\n    ...MetaHeader_publisher\n    ...userUrl_user\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return C=function(){return e},e}var A=function(e){var n,t,i=e.user,a=e.redirectExperiment,l=e.postId,_=(0,b.v9)((function(e){return e.config.authDomain})),C=(0,E.pK)(),A=(0,p.H)().value,D=(0,N.Av)(),T=(0,b.v9)((function(e){return e.config.productName})),O=A&&A.id===i.id,M=(0,w.s)()||y.j.lg,R=!!(0,u.VB)({name:"enable_referred_memberships_custom_messaging",placeholder:!1}),L=M===y.j.xs||M===y.j.sm;r.useEffect((function(){D.event("entityDrivenSubscriptionPage.viewed",{creatorId:null==i?void 0:i.id,source:C})}),[]);var U=r.useCallback((function(){D.event("entityDrivenSubCallToAction.clicked",{userId:null==A?void 0:A.id,entityId:null==i?void 0:i.id})}),[i,null==A?void 0:A.id,_]);if(!i)return null;var B=null!==(n=i.name)&&void 0!==n?n:"",j=null!==(t=i.imageId)&&void 0!==t?t:F.gG,V=i.id,W=(0,P.AWr)(i,_),G=(0,I.Rk)((0,P.c5p)(_),{subscribeToUserId:V,susiEntry:"entity_driven_subscription_lp"}),z=l?(0,P.o2w)(_,l):W,H=null!=A&&A.mediumMemberAt?W:G,q="Read every story from ".concat(B," (and thousands of other writers on ").concat(T,")."),$="Your membership fee directly supports ".concat(B," and other writers you read. You'll also get full access to every story on ").concat(T,"."),K=R&&i.referredMembershipCustomHeadline?i.referredMembershipCustomHeadline:q,Y=R&&i.referredMembershipCustomBody?i.referredMembershipCustomBody:$;return r.createElement(r.Fragment,null,r.createElement(E.cW,{source:{name:"entity_driven_subscription",userId:V}},r.createElement(m.G8,{customStyleSheet:i.customStyleSheet},r.createElement(s.f,{customStyleSheet:i.customStyleSheet},r.createElement(g.x,{display:"flex",height:"100vh",flexDirection:"column"},r.createElement(g.x,null,L?r.createElement(o.kw,{isLogoCentered:!1,marginBottomSm:0}):r.createElement(d.Go,{forceSmall:!0,publisher:i,customStyleSheet:i.customStyleSheet})),r.createElement(g.x,{display:"flex",height:"0",flexGrow:"1",textAlign:"center",justifyContent:"center",alignItems:"center",flexDirection:"column"},r.createElement(v.P,{size:"inset"},r.createElement(g.x,{display:"flex",paddingBottom:"32px",justifyContent:"center"},r.createElement(c.s,null,r.createElement(k.z,{miroId:j,alt:B||"",diameter:128,freezeGifs:!1})),r.createElement(c.e,null,r.createElement(k.z,{miroId:j,alt:B||"",diameter:80,freezeGifs:!1}))),r.createElement(g.x,{paddingBottom:"20px"},r.createElement(x.F1,{scale:{xs:"S",sm:"S",md:"L",lg:"L",xl:"L"}},K)),r.createElement(g.x,{paddingBottom:"20px"},r.createElement(h.F,{scale:"L",color:"DARKER"},Y)),r.createElement(g.x,{display:"flex",paddingBottom:"20px",flexDirection:{xs:a?"column-reverse":void 0,sm:a?"column-reverse":void 0,md:void 0,lg:void 0,xl:void 0},justifyContent:"center"},a&&r.createElement(g.x,{paddingRight:{xs:void 0,sm:void 0,md:"12px",lg:"12px",xl:"12px"},paddingTop:{xs:"12px",sm:"12px",md:void 0,lg:void 0,xl:void 0}},r.createElement(f.z,{href:z,buttonStyle:"OBVIOUS",size:"LARGE"},"Not now")),r.createElement(g.x,null,r.createElement(f.z,{onClick:U,href:H,buttonStyle:"STRONG",size:"LARGE"},"Become a member"))),!a&&!O&&r.createElement(h.F,{scale:"L",color:"DARKER",tag:"span"},r.createElement(S.r,{linkStyle:"SUBTLE",href:W},"Visit ",B,"'s profile")),R&&O&&r.createElement(h.F,{scale:"L",color:"ACCENT",tag:"span"},r.createElement(S.r,{linkStyle:"SUBTLE",href:(0,P.mEF)(_)},"Edit this message")))))))))},D=(0,l.Ps)(C(),_.$m,m.Kc,s.w,d.Mv,d.aU)},97171:(e,n,t)=>{"use strict";function i(e){if((e.match(/ /g)||[]).length>1)return"";var n=e.indexOf(" ");return e.substring(0,n)}function a(e){return e.google?"google":e.facebook?"facebook":e.twitter?"twitter":"medium"}t.d(n,{J:()=>i,S:()=>a})},32934:(e,n,t)=>{"use strict";t.d(n,{bh:()=>l,dm:()=>s,bq:()=>m,Pz:()=>c,HF:()=>u});var i=t(319),a=t.n(i),l={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"getPostContentAsString_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"content"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postMeteringOptions"},value:{kind:"Variable",name:{kind:"Name",value:"postMeteringOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bodyModel"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"paragraphs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"}},{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"Field",name:{kind:"Name",value:"mixtapeMetadata"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"href"}}]}}]}}]}}]}}]}}]},r=[{kind:"FragmentDefinition",name:{kind:"Name",value:"appendPostContext_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"sequence"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"}}]}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}],o=[{kind:"FragmentDefinition",name:{kind:"Name",value:"maybeAppendProductName_collection"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"domain"}}]}}],d={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"postTitle_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"Field",name:{kind:"Name",value:"seoTitle"}},{kind:"Field",name:{kind:"Name",value:"firstPublishedAt"}},{kind:"FragmentSpread",name:{kind:"Name",value:"getPostContentAsString_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"appendPostContext_post"}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"domain"}},{kind:"FragmentSpread",name:{kind:"Name",value:"maybeAppendProductName_collection"}}]}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"previewContent"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"subtitle"}}]}}]}}].concat(a()(l.definitions),a()(r),a()(o))},s={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"getTitleDetails_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postMeteringOptions"},value:{kind:"Variable",name:{kind:"Name",value:"postMeteringOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bodyModel"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"GetTitleIndexMap_bodyModel"}}]}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"getPostContentAsString_post"}}]}}].concat(a()([{kind:"FragmentDefinition",name:{kind:"Name",value:"GetTitleIndexMap_bodyModel"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"RichText"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"paragraphs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"Field",name:{kind:"Name",value:"text"}}]}}]}}]),a()(l.definitions))},m={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"getTitleForPost_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"FragmentSpread",name:{kind:"Name",value:"postTitle_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"getTitleDetails_post"}}]}}].concat(a()(d.definitions),a()(s.definitions))},c={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"shortformPostTitle_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"Field",name:{kind:"Name",value:"seoTitle"}},{kind:"FragmentSpread",name:{kind:"Name",value:"getPostContentAsString_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"appendPostContext_post"}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"maybeAppendProductName_collection"}}]}}]}}].concat(a()(l.definitions),a()(r),a()(o))},u={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"shouldIndexPost_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"firstPublishedAt"}},{kind:"Field",name:{kind:"Name",value:"isLimitedState"}},{kind:"Field",name:{kind:"Name",value:"isShortform"}},{kind:"Field",name:{kind:"Name",value:"shortformType"}},{kind:"Field",name:{kind:"Name",value:"visibility"}},{kind:"Field",name:{kind:"Name",value:"curationStatus"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"atsQualifiedAt"}},{kind:"Field",name:{kind:"Name",value:"customDomainState"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"live"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"status"}},{kind:"Field",name:{kind:"Name",value:"isSubdomain"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"customDomainState"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"live"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"status"}},{kind:"Field",name:{kind:"Name",value:"isSubdomain"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"atsQualifiedAt"}}]}},{kind:"Field",name:{kind:"Name",value:"ptsQualifiedAt"}}]}},{kind:"Field",name:{kind:"Name",value:"noIndex"}},{kind:"Field",name:{kind:"Name",value:"isIndexable"}},{kind:"FragmentSpread",name:{kind:"Name",value:"getPostContentAsString_post"}}]}}].concat(a()(l.definitions))}}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/84366.a590dc13.chunk.js.map